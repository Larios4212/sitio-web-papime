<!doctype html>
<html lang="es">
<head>
  <!-- include partials/head.html -->
</head>
<body>
  <!-- include partials/header.html -->

  <main class="models-page">
    
    <!-- Hero Section -->
    <section class="models-hero">
      <div class="hero-bg">
        <div class="hero-grid"></div>
        <div class="hero-glow"></div>
        <div class="floating-shapes">
          <div class="shape shape-1"></div>
          <div class="shape shape-2"></div>
          <div class="shape shape-3"></div>
          <div class="shape shape-4"></div>
        </div>
      </div>
      <div class="container">
        <div class="hero-content">
          <span class="hero-badge">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
            </svg>
            Colecci√≥n Interactiva
          </span>
          <h1 class="hero-title">Modelos 3D <span class="gradient-text">Educativos</span></h1>
          <p class="hero-subtitle">Explora nuestra colecci√≥n de modelos tridimensionales para visualizaci√≥n interactiva. Cada modelo captura con precisi√≥n formaciones geol√≥gicas √∫nicas de M√©xico.</p>
          <div class="hero-stats">
            <div class="stat-item">
              <span class="stat-number" data-count="9">0</span>
              <span class="stat-label">Modelos 3D</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" data-count="7">0</span>
              <span class="stat-label">Categor√≠as</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" data-count="5">0</span>
              <span class="stat-label">Estados</span>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Filters Section -->
    <section id="modelos-3d" class="models-section">
      <div class="container">
        
        <div class="models-filters">
          <div class="filters-header">
            <h2 class="filters-title">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
              </svg>
              Filtrar por categor√≠a
            </h2>
            <span class="models-count">
              <span id="visible-count">9</span> modelos
            </span>
          </div>
          <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">
              <span class="filter-icon">üåç</span>
              <span class="filter-text">Todos</span>
            </button>
            <button class="filter-btn" data-filter="geomorfologia">
              <span class="filter-icon">üèîÔ∏è</span>
              <span class="filter-text">Geomorfolog√≠a</span>
            </button>
            <button class="filter-btn" data-filter="vulcanologia">
              <span class="filter-icon">üåã</span>
              <span class="filter-text">Vulcanolog√≠a</span>
            </button>
            <button class="filter-btn" data-filter="hidrologia">
              <span class="filter-icon">üíß</span>
              <span class="filter-text">Hidrolog√≠a</span>
            </button>
            <button class="filter-btn" data-filter="geologia-costera">
              <span class="filter-icon">üèñÔ∏è</span>
              <span class="filter-text">Geolog√≠a Costera</span>
            </button>
            <button class="filter-btn" data-filter="mineria">
              <span class="filter-icon">‚õèÔ∏è</span>
              <span class="filter-text">Miner√≠a</span>
            </button>
            <button class="filter-btn" data-filter="espeleologia">
              <span class="filter-icon">ü¶á</span>
              <span class="filter-text">Espeleolog√≠a</span>
            </button>
            <button class="filter-btn" data-filter="limnologia">
              <span class="filter-icon">üèûÔ∏è</span>
              <span class="filter-text">Limnolog√≠a</span>
            </button>
          </div>
        </div>

        <div class="models-grid" id="models-grid">
          <!-- Los modelos se cargar√°n din√°micamente desde JavaScript -->
          <div class="loading-models">
            <div class="loading-spinner-3d">
              <div class="spinner-cube">
                <div class="face front"></div>
                <div class="face back"></div>
                <div class="face right"></div>
                <div class="face left"></div>
                <div class="face top"></div>
                <div class="face bottom"></div>
              </div>
            </div>
            <p>Cargando modelos 3D...</p>
          </div>
        </div>
        
        <!-- Empty state -->
        <div class="empty-state" id="empty-state" style="display: none;">
          <div class="empty-icon">üîç</div>
          <h3>No hay modelos en esta categor√≠a</h3>
          <p>Intenta seleccionar otra categor√≠a o muestra todos los modelos.</p>
          <button class="btn btn-primary" onclick="document.querySelector('[data-filter=all]').click()">
            Ver todos los modelos
          </button>
        </div>
      </div>
    </section>
  </main>

  <!-- include partials/model-viewer.html -->
  
  <script src="/assets/js/model-viewer-debug.js"></script>
  
  <script>
  // Animaciones y efectos
  document.addEventListener('DOMContentLoaded', function() {
    // Counter animation para stats
    const counters = document.querySelectorAll('.stat-number[data-count]');
    const observerOptions = { threshold: 0.5 };
    
    const counterObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const counter = entry.target;
          const target = parseInt(counter.dataset.count);
          let current = 0;
          const increment = target / 30;
          const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
              counter.textContent = target;
              clearInterval(timer);
            } else {
              counter.textContent = Math.floor(current);
            }
          }, 50);
          counterObserver.unobserve(counter);
        }
      });
    }, observerOptions);
    
    counters.forEach(counter => counterObserver.observe(counter));
    
    // Filter buttons animation
    const filterBtns = document.querySelectorAll('.filter-btn');
    filterBtns.forEach(btn => {
      btn.addEventListener('click', function() {
        filterBtns.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        // Ripple effect
        const ripple = document.createElement('span');
        ripple.classList.add('btn-ripple');
        this.appendChild(ripple);
        setTimeout(() => ripple.remove(), 600);
        
        // Filter logic
        const filter = this.dataset.filter;
        const cards = document.querySelectorAll('.model-card');
        let visibleCount = 0;
        
        cards.forEach((card, index) => {
          const category = card.dataset.category;
          const shouldShow = filter === 'all' || category === filter;
          
          if (shouldShow) {
            card.style.display = '';
            card.style.animation = `cardFadeIn 0.5s ${index * 0.05}s ease forwards`;
            visibleCount++;
          } else {
            card.style.animation = 'cardFadeOut 0.3s ease forwards';
            setTimeout(() => {
              card.style.display = 'none';
            }, 300);
          }
        });
        
        // Update counter
        document.getElementById('visible-count').textContent = visibleCount;
        
        // Show/hide empty state
        const emptyState = document.getElementById('empty-state');
        if (visibleCount === 0) {
          emptyState.style.display = 'block';
        } else {
          emptyState.style.display = 'none';
        }
      });
    });
    
    // Scroll reveal for cards
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          entry.target.style.animationDelay = `${index * 0.1}s`;
          entry.target.classList.add('revealed');
          revealObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1, rootMargin: '50px' });
    
    // Observe cards after they're loaded
    setTimeout(() => {
      document.querySelectorAll('.model-card').forEach(card => {
        revealObserver.observe(card);
      });
    }, 500);
  });
  </script>

  <!-- include partials/footer.html -->
</body>
</html>